<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>mission 18</title>
  </head>
  <body>
    <script>
    // -----------------函数输出html---------------------
    var prod = {
        name: '女装',
        styles: ['短款', '冬季', '春装']
        };

        function getTpl(data){
          var htmlarr=[];
          htmlarr.push('<dl class="product">');
          htmlarr.push('<dt>'+data.name+'</dt>');
          data.styles.map(function(e,i,a){
          htmlarr.push('<dd>'+e+'</dd>');
        });
        htmlarr.push('</dl>');
        console.log(htmlarr.join(""));
};
       getTpl(prod);


       //-------------------构造find函数--------------------
       var arr = [ "test", 2, 1.5, false ];
       function find(arr,num){
         return arr.indexOf(num);
       };

       find(arr, "test") // 0
      find(arr, 2) // 1
      find(arr, 0) // -1


       //---------------filter函数判断挑选数组中的数字组成新数组-----------------
      var arr = ["a", "b", 1, 3, 5, "b", 2];
      function filterNumberic(el){
        var newarr;
           return newarr=arr.filter(function(e){
          return typeof(e)==="number";
        })
      };
     filterNumberic(arr);

     //--------------------构造函数添加或删除字符串--------------------
     var obj = {
  className: 'open menu'
      };
    function addClass(obj,newstr){
        var newarr;
        newarr=obj.className.split(" ");
        if(newarr.indexOf(newstr)<0){
          newarr.splice(newarr.length,0,newstr);
          obj.className=newarr.join(" ");
          return obj.className;
        }
        else{
          return obj.className;
        }
      }

//       addClass(obj, 'new')  obj.className='open menu new'
// addClass(obj, 'open')   因为open已经存在，所以不会再次添加open
// addClass(obj, 'me')  me不存在，所以 obj.className变为'open menu new me'
// console.log(obj.className)   "open menu new me"

function removeClass(obj,newstr){
    var newarr;
    newarr=obj.className.split(" ");
    if(newarr.indexOf(newstr)>=0){
      newarr.splice(newarr.indexOf(newstr),1);
      obj.className=newarr.join(" ");
      return obj.className;
    }
    else{
      return obj.className;
    }
  }

//   removeClass(obj, 'open') 去掉obj.className里面的 open，变成'menu new me'
// removeClass(obj, 'blabla')   因为blabla不存在，所以此操作无任何影响


//构建函数把my-short-string形式的字符串转化成myShortStrin形式--------------------
function camelize(str){
  return str.split("-").join("");////先分割开再用join连接起来
}

//写一个函数filterNumericInPlace，过滤数组中的数字，删除非数字。要求在原数组上操作,对原数组进行操作，不需要返回值---------------
arr = ["a", "b", 1, 3, 4, 5, "b", 2];
function filterNumbericInplace(arr){
  for(var i=0;i<arr.length;i++){
    if(typeof(arr[i])!=="number"){
      arr.splice(i,1);
    }
  }
}
    console.log(arr)// [1,3,4,5,2]


//写一个ageSort函数实现数组中对象按age从小到大排序
var john = { name: "John Smith", age: 23 };
var mary = { name: "Mary Key", age: 18 };
var bob = { name: "Bob-small", age: 6 };
var people = [ john, mary, bob ];
 function ageSort(people){
      people.sort(function(a,b){
        return a.age-b.age;
      })
 }



 //构造回调函数从数组中筛选出数字、为正数的数字-----------------------
//构造函数筛选出数字
arr = ["a",3,4,true, -1, 2, "b"];

function isNumeric(el){
  if(typeof(el)==="number"){
    return el;
  }
}

function filter(arr,isNumeric){
  var newarr=arr.filter(isNumeric);
  return newarr;
}
filter(arr,isNumeric)//输出结果[3,4,-1,2]



//构造函数筛选出数字，且数字是正数
arr = ["a",3,4,true, -1, 2, "b"];

function isInt(el){
  if(typeof(el)==="number" && el>=0){
    return el
  }
}

function filter(arr,isInt){
  var newarr2=arr.filter(isInt);
  return newarr2;
}

filter(arr,isInt)//输出结果[3,4,2]


//构造函数实现单词首字母大写
function ucFirst(el){
  var newstring=el[0].toUpperCase()+el.substring(1)
  return newstring;
}

ucFirst("hunger")
//返回结果为 "Hunger"



//构造函数把str截断至maxlength指定的长度，如str超过maaxlength自动加上...
function truncate(str,maxlength){
  if(str.length>maxlength){
    return str.substring(0,maxlength)+"...";
  } else{
    return str.substring(0,maxlength);
  }
}
truncate("hello, this is hunger valley,", 10));//返回"hello, thi..."
truncate("hello world", 20))//返回"hello world"


//获取从min到max之间的随机整数，包括min不包括max
function randomnum1(el1,el2){
  return Math.floor(Math.random()*(el2-el1)+el1);//向下取整数
}


//获取从min都max之间的随机整数，包括min包括max
function randomnum2(el1,el2){
  return Math.floor(Math.random()*(el2-el1+1)+el1)
}

//写一个函数，获取一个随机数组，数组中元素为长度为len，最小值为min，最大值为max(包括)的随机整数
function randomnum3(len,min,max){
  var newarr=[];
  for(var i=0;i<len;i++){
    newarr[i]=Math.floor(Math.random()*(max-min+1)+min)
  }
  return newarr
}


//---------------?????
function randomnum3(len,min,max){
    var newarr=new Array(1,2,3);
    newarr=newarr.map(function(e,i,a){
    return a[i]=Math.floor(Math.random()*(max-min+1)+min)
  })
    return newarr
}

//写一个函数，生成一个长度为 n 的随机字符串，字符串字符的取值范围包括0到9，a到 z，A到Z。
function getRandStr(len){
  var str="0123456789abcdefthijklmnopqrstuvwxyzABCDEFTHIJKLMNOPQRSTUVWXYZ"
  var newstr=[];
  for(var i=0;i<len;i++){
    newstr[i]=str[Math.floor(Math.random()*(str.length+1))]
  }
  return newstr.join("");
}
var str = getRandStr(3); // 0a3iJiRZap

    </script>
  </body>
</html>
