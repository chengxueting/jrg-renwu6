<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>	
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <style>
		.wrap{
			width: 900px;
			margin:0 auto;
		}
		#header .wrap{
			height: 50px;
			background: red;
		}
		.nav{
			height: 30px;
			border: 1px solid;
			background: blue;
		}
		.ct{
			margin-top: 20px;
		}
		.ct .aside{
			float: left;
			width: 200px;
			height: 400px;
			background: pink;
		}
		.ct .aside2{
			background: yellow;
		}
		.ct .aside3{
			background: red;
		}

		.ct .main{
			float: right;
			width: 680px;
			height: 400px;
			background: green;
		}
		.ct:after{
			content: "";
			display: block;
			clear: both;
		}
    </style>
</head>
<body>
	<div id="header">
		<div class="wrap">header</div>
	</div>
	
	<div id="content">
		<div class="wrap">
			<div class="ct">
				<div class="nav">nav1</div>
				<div class="aside aside1">aside1</div>
				<div class="main">main1</div>
			</div>

			<div class="ct">
				<div class="nav">nav2</div>
				<div class="aside aside2">aside2</div>
				<div class="main">main3</div>
			</div>

			<div class="ct">
				<div class="nav">nav3</div>
				<div class="aside aside3">aside3</div>
				<div class="main">main3</div>
			</div>

			<div class="ct">
				<div class="nav">nav4</div>
				<div class="aside aside4">aside4</div>
				<div class="main">main4</div>
			</div>
		</div>
	</div>
	<script>
		$(".nav").each(function(){
			var $cur=$(this),
				curH=$cur.height(),
				curW=$cur.width(),
				offsetTop=$cur.offset().top,
				offsetLeft=$cur.offset().left;

			var $curClone=$cur.clone().css({visibility:"hidden",display:"none"}).insertBefore($cur);

			$(window).on("scroll",function(){
				var scrollTop=$(this).scrollTop();
				if(scrollTop>=offsetTop){
					setFixed();
				}else{
					unsetFixed();
				}
			});

			function setFixed(){
				$cur.css({
					"position":"fixed",
					"top":0,
					"left":offsetLeft,
					"width":curW,
					"margin":0,
					"z-index":9999
				});
				$curClone.show();
			}

			function unsetFixed(){
				$cur.removeAttr("style");
				$curClone.hide();
			}
		});
	</script>
</body>
</html>