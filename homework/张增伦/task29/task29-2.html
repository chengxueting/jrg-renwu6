<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>

    html,body,div,ul,li,a,p{
        margin:0;padding: 0;
    }
    a {text-decoration: none;}
    ul,li{
        list-style:none;
    }
    .container{
        width: 800px;
        margin: 0 auto;
    }
    .container li{
        float: left;
        margin:10px;
    }
    .container li img{
        border: 1px solid #ccc;
        width: 220px;
        height: 400px;
    }

</style>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
</head>
<body>

<ul class="container">
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>

    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>
    <li><a href="#"><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-src="http://iteamga.com/images/logo.png" /></a></li>

</ul>

<script>


    var LazyLoading = (function(){
        var isLoaded = 'isLoaded';
        function checkShow(){
            $('.container img').each(function(){
                var $cur = $(this);
                if($cur.attr(isLoaded)){
                    console.log('has isLoaded true');
                    return;
                }

                if(isVisible($cur)){
                    console.log('frist loaded');
                    showImg($cur);
                }
            });
        }

        function isVisible($e){
            var eOffsetTop = $e.offset().top;
            var winHeight = $(window).height();
            var scrollTop  = $(window).scrollTop();

            if( (scrollTop + winHeight) > eOffsetTop  && scrollTop<eOffsetTop){
                return true;
            }else{
                return false;
            }
        }

        function showImg($el){
            $el.attr('src', $el.attr('data-src'));
            $el.attr(isLoaded, true);
        }

        function init(){
            checkShow();
            var clock;
            $(window).on('scroll', function(){

                if(clock){
                    clearTimeout(clock);
                }
                clock = setTimeout(function(){
                    console.log(1);
                    checkShow();
                }, 300);

            });
        }


        return {
            init: init
        }
    })();

    LazyLoading.init();


</script>
    
</body>
</html>