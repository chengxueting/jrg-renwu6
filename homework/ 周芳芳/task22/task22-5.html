<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>模态框</title>
	<style>
	.modal-dialog{
		display: none;
	}
	.modal-dialog a{
		text-decoration: none;
		color: #333;
	}
	.modal-dialog .cover{
		position: fixed;
		top:0;
		bottom:0;
		right:0;
		left:0;
		background-color: #000;
		opacity: 0.4;
		z-index: 1;
	}
	.modal-ct{
		position:fixed;
		top:50%;
		left:50%;
		transform: translate(-50%,-50%);
		-webkit-transform: translate(-50%,-50%);
		border: 1px solid #ccc;
		border-radius: 3px;
		background-color: #fff;
		width: 400px;
		z-index: 2;
	}
	.modal-ct .header{
		height: 36px;
		line-height: 36px;
		border-bottom: 1px solid #ccc; 
	}
	.modal-ct .header h3{
		padding-left: 10px;
		font-size: 16px;
		margin:0;
	}
	.modal-ct .header .close{
		position: absolute;
		right: 10px;
		top:10px;
		line-height: 1;
	}
	.modal-ct .content{
		padding:10px;
	}
	.modal-ct .footer{
		padding:10px;
		border-top:1px solid #ccc;
	}
	.modal-ct .footer:after{
		content:'';
		display: table;
		clear: both;
	}
	.modal-ct .footer .btn{
		float: right;
		margin-left: 10px;
	}
	</style>
</head>
<body>
	<div class="ct">
		<button id="btn-modal">点我</button>
	</div>

	<div id="modal" class="modal-dialog">
		<div class="cover"></div>
		<div class="modal-ct">
			<div class="header">
				<h3>我是标题</h3>
				<a href="#" class="close">X</a>
			</div>
			<div class="content">
				<p>我是内容</p>
				<p>我是内容</p>				
			</div>
			<div class="footer">
				<a href="#" class="btn btn-confim">确定</a>
				<a href="#" class="btn btn-cancel">取消</a>
			</div>
		</div>
	</div>
	<script>
		var btn=document.getElementById('btn-modal'),
		    modal=document.querySelector('#modal'),
		    modalCt=document.querySelector('.modal-ct');

		btn.addEventListener('click',function(e){
			showModal(modal);
		});
        
        modal.addEventListener('click',function(e){
        	console.log(e);
        	e.stopPropagation();
        	if(hasClass(e.target,'close') || hasClass(e.target,'btn-cancel') || hasClass(e.target,'cover')){
        		hideModal(modal)
        	}
        });

		function showModal(modal){
			modal.style.display = "block";
		};
		function hideModal(modal){
			modal.style.display = "none";
		};
		function hasClass(ele,cls){
            return !!ele.className.match(new RegExp('\\b'+cls+'\\b'));
		}
	</script>
</body>
</html>
