<!DOCTYPE html>
<!--
Created using JS Bin
http://js.jirengu.com

Copyright (c) 2016 by anonymous (http://js.jirengu.com/kunehivera/3/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <meta charset="utf-8">
  <title>JS Bin</title>
<style id="jsbin-css">
.wrap{
    width: 900px;
    margin: 0 auto;
  }

  #header .wrap{
    height: 50px;
    background: red;
  }
  .nav{
    height: 30px;
    border: 1px solid ;
    background: yellow;
  }

  .ct{
    margin-top: 20px
  }
  .ct:after{
    content: '';
    display: block;
    clear: both;
  }
  .aside{
    float: left;
    width: 200px;
    height: 400px;
    background: pink;
  }
  .aside2{
    background: yellow;
  }
  .aside3{
    background: red;
  }
  .main{
    float: right;
    width: 680px;
    height: 400px;
    background: blue;
  }


</style>
</head>
<body>
<div id="header">
  <div class="wrap">header</div>
</div>
<div id="content">
  <div class="wrap">

    <div class="ct">
      <div class="nav">nav1</div>
      <div class="aside aside1">aside1</div>
      <div class="main">main1</div>
    </div>
    <div class="ct">
      <div class="nav">nav2</div>
      <div class="aside aside2">aside2</div>
      <div class="main">main2</div>
    </div>
    <div class="ct">
      <div class="nav">nav3</div>
      <div class="aside aside3">aside3</div>
      <div class="main">main3</div>
    </div>
    <div class="ct">
      <div class="nav">nav4</div>
      <div class="aside">aside4</div>
      <div class="main">main4</div>
    </div>
  </div>


</div>
<div id="footer">footer</div>

<script id="jsbin-javascript">

$.fn.stick=function (){
  var $t=this
  var tHeight=$t.height()
  var tWidth=$t.width()
  var tLeft=$t.offset().left
  var tTop=$t.offset().top
  var onOff=true
  var $tClone=$t.clone()
  $tClone.insertBefore($t)
         .css({'opacity':0})   
         .hide()
  $(window).on('scroll',function(){
    if($(window).scrollTop()>=tTop){
      if(onOff){
      setStick();}
    }else{
      if(!onOff){
      delStict();
        }
    }
  })
  function setStick(){
     $t.css({
        'position':'fixed',
        'top':0,
        'left':tLeft,
        'height':tHeight,
        'width':tWidth,
        'z-index': 100,
        'margin':0
      })
      $tClone.show();
      onOff=false;
  }
  function delStict(){
    $t.removeAttr('style')
    $tClone.hide();
    onOff=true;

  }
}

$('.nav').each(function(idx,element){
  $(element).stick()
})

</script>
</body>
</html>