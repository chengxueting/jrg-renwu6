<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>跨域-Cros</title>
<style>
  .container{
    width: 900px;
    margin: 0 auto;
  }
  .news{
    border:1px solid #ccc;
    border-radius:5px;
    background-color:#ddd;
    padding:10px;
  }
  .news>li{
    font-size: 18px;
    font-family: 'weiruanyahei';
    margin: 10px;
  }
  .btn{
    padding:5px 8px;
    cursor:pointer;
  }
</style>
</head>
<body>
  <div class="container">
    <ul class="news">
        <li>威少再取三双，雷霆力擒勇士，取得3连胜</li>
        <li>中国歼20最迟在2017年服役</li>
        <li>广东东莞男篮轻取山东</li>
    </ul>
    <button class="btn">下一组</button>

  </div>

  <script>
  var btn = document.querySelector('.btn'),
      news = document.querySelector('.news');

 btn.addEventListener('click',function(){

   var xhr = new XMLHttpRequest();
   xhr.open('get','http://b.hhh.com:8080/getNews',true);
   xhr.send();
   xhr.onreadystatechange = function(){
     if(xhr.readyState == 4 && xhr.status == 200){
       appendHtml(JSON.parse(xhr.responseText))
     }
   }


 })

 function appendHtml(e){
   var html = '';
   for( var i=0; i<e.length; i++){
     html += '<li>'+e[i]+'</li>';
   }
   news.innerHTML=html;
 }

  </script>
</body>
</html>
