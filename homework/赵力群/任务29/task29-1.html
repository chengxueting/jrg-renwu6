<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>task29-1</title>
    <style type="text/css">
      html, body, div {
        margin: 0;
        padding: 0;
      }
      .test {
        margin: 30px auto;
        width: 200px;
        height: 200px;
        line-height: 200px;
        text-align: center;
        border: 3px solid;
        background-color: rgba(180, 255, 0, 0.5);
      }
      .go-top {
        position: fixed;
        bottom: 50px;
        right: 50px;
        width: 70px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        border: 3px solid;
        background-color: rgba(0, 0, 255, 0.5);
        font-weight: bold;
        cursor: pointer;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="test test1">test1</div>
    <div class="test test2">test2</div>
    <div class="test test3">test3</div>
    <div class="test test4">test4</div>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
      // jQuery方法
      // var $goTop = $('<div class="go-top">回到顶部</div>');
      // $('body').append($goTop);
      // $(window).on('scroll', function() {
      //   var scrollTop = $(this).scrollTop();
      //   if(scrollTop > 100) {
      //     $goTop.show();
      //   } else {
      //     $goTop.hide();
      //   }
      // });
      // $goTop.on('click', function() {
      //   $(window).scrollTop(0);
      // });
      // json封装方法
      var goTop = {
        init: function() {
          if($('.go-top').length > 0) {
            return;
          } else {
            var $goTop = $('<div class="go-top">回到顶部</div>');
            $('body').append($goTop);
            this.$goTop = $goTop;
            this.bind();
          }
        },
        bind: function() {
          var self = this;
          $(window).on('scroll', function() {
            var scrollTop = $('body').scrollTop();
            if(scrollTop > 100) {
              self.$goTop.show();
            } else {
              self.$goTop.hide();
            }
          });
          $(self.$goTop).on('click', function() {
            $('body').scrollTop(0);
          });
        }
      }
      goTop.init();
    </script>
  </body>
</html>
